<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes da Peça</title>
    <link rel="stylesheet" href="inicio.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>
    <header class="topbar">
        <!--Colocar o titulo no centro-->
        <img src="imgs/titulogrwm.png" alt="Título GRWM" class="titulo">
    </header>

    <!-- Botão de voltar -->
    <a href="inicio.html" id="back-btn">
        <i class="fa-solid fa-arrow-left"></i>
    </a>

    <script>
        async function loadDetails() {
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");
  if (!id) return;

  try {
    const res = await fetch(`/item?id=${id}`);
    if (!res.ok) throw new Error("Peça não encontrada");

    const item = await res.json();

    document.querySelector('.image-section img').src = item.fotoBase64
      ? `data:image/*;base64,${item.fotoBase64}`
      : "imgs/imagem-padrao.png";
    document.querySelector('.details-section h1').textContent = item.nome;
    document.querySelector('.details-section p:nth-of-type(1) span').textContent = item.cor;
    document.querySelector('.details-section p:nth-of-type(2) span').textContent = item.categoria;
    document.querySelector('.details-section p:nth-of-type(3) span').textContent = item.ocasiao;
    document.querySelector('.details-section p:nth-of-type(4) span').textContent = item.tamanho || "Não definido";
    document.querySelector('.details-section p:nth-of-type(6)').innerHTML = `<span>Comentário:</span> ${item.descricao}`;

  } catch (error) {
    console.error(error);
  }
}

window.onload = loadDetails;


    </script>

    <script src="inicio.js"></script>

</body>

</html>